## Repository Pattern

### 배경
비즈니스 로직은 프로그램의 핵심 부분이고, 비즈니스 로직이 어떻게 되어있는가에 따라 결과가 달라진다.<br />
비즈니스 로직이 있는 Service에서 직접 데이터베이스를 접근한다고 했을 때의 문제점은
Service에서 비즈니스 로직에만 집중하기 어렵고, 로직 자체를 테스트하기 어려우며 코드 중복이 발생할 수도 있어서 관리하기가 어려워진다.

이런 문제를 해결하기 위해 비즈니스 로직과 데이터 레이어를 분리하고 중앙 집중 처리 방식을 통해 일관된 데이터와 로직을 제공할 수 있도록 Repository Pattern이 등장했다.

### Repository Pattern이란?
Service와 데이터베이스 사이에 `Repository Layer`를 둬서<br />
Service에서는 비즈니스 로직에만 집중할 수 있도록 하는 것이 Repository Pattern이다.<br />
Repository Layer는 데이터베이스에 쿼리를 날리거나 여러 Service에서 사용할 수 있도록 데이터를 새롭게 매핑시키는 역할을 수행한다.<br />

### 장점

1. 데이터 로직과 비즈니스 로직 분리 가능 <br />
Service에서는 데이터가 어디에서 오는지 신경쓰지 않고 Repository만을 사용해서 전달받은 데이터를 사용하면 된다.<br />
2. 일관된 인터페이스<br />
Repository가 추상화되어 있기 때문에 일관된 인터페이스로 요청할 수 있다.<br />
3. 데이터 캡슐화, 객체지향 프로그래밍<br />
만약 데이터베이스의 마이그레이션이 필요한 시점이 와서 다른 DB를 사용해야한다면 각 DB에 맞춰 쿼리문이 달라져야하는데,<br />
Repository layer가 없다면 모든 Service 코드에서 쿼리문을 수정해야하는 작업이 필요해진다.<br />
하지만 Repository layer가 있으면 Repository만 수정하면 되기 때문에 쉽게 변경이 가능하다.<br />
이처럼 DB의 데이터를 캡슐화하여 객체지향적인 프로그래밍에 적합하다.
4. 객체 간 결합도 감소, 단위 테스트 검증 수월<br />
비즈니스 로직이 분리되어있기 때문에 비즈니스 로직 자체를 테스트하기가 좋다.<br />

### 단점
단점은.. 코드가 많아진다는 것?<br />
각 개체별로 매핑하는 작업이 필요하기 때문에 추가해야하는 코드가 많아질 수 있다는 점이 있다.
