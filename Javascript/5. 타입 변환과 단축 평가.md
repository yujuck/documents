## 타입변환

개발자가 의도적으로 값의 타입을 변환하는 것을 `명시적 타입 변환 (타입 캐스팅)` 이라고 하고,

개발자의 의도와는 상관없이 자바스크립트 엔진에 의해 암묵적으로 타입이 자동 변환되는 것을 `암묵적 타입 변환 (타입 강제 변환)` 이라고 한다.

둘다 기존 값을 직접 변경하는 것이 아니라 새로운 값을 만들어서 반환한다.

```jsx
var x = 10;

var str = x.toString();  // 명시적 타입 변환. string으로 변환시킴
// x의 값이 변경된 것은 아님

var str2 = x + '';  // 암묵적 타입 변환. string으로 변환됨
// 마찬가지로 x의 값이 변경된 것은 아님
```

<br />

### 암묵적 타입 변환

코드의 문맥을 고려해 암묵적으로 데이터 타입을 강제 변환시킬 때가 있다.

1. 문자열 타입으로 변환
    - 문자열 연결 연산자(+)를 사용하면 문자열이 아닌 피연산자에 대해 문자열로 암묵적 타입 변환을 한다.

2. 숫자 타입으로 변환
    - `>` 비교 연산자는 크기를 비교하므로 모든 피연산자는 코드의 문맥상 모두 숫자타입이어야 한다. 따라서 자바스크립트 엔진은 숫자타입으로 암묵적 타입 변환을 한다.
    - 산술 연산자는 모두 숫자타입으로 변환시키는데 숫자 타입으로 변환할 수 없는 경우 평가 결과가 `NaN`이 된다.

3. 불리언 타입으로 변환
    - 조건식의 평가 결과를 불리언 타입으로 암묵적 타입 변환 한다.
    - <b>자바스크립트 엔진은 불리언 타입이 아닌 값을 `Truthy값`, `Falsy값`으로 구분한다. </b>
        - Falsy값 : false, undefined, null, 0, -0, NaN, ''
        - Truthy값 : falsy값을 제외한 모든 값

<br />

### 명시적 타입 변환

1. 문자열 타입으로 변환
    - new 연산자 없이 String 생성자 함수 호출
    - Object.prototype.toString 메서드 사용
    - 문자열 연결 연산자 이용

2. 숫자 타입으로 변환
    - new 연산자 없이 Number 생성자 함수 호출
    - parseInt, parseFloat 함수 사용 (문자열에만 해당됨)
    - `+` 단항 산술 연산자 이용
    - `*` 산술 연산자 이용

3. 불리언 타입으로 변환
    - new 연산자 없이 Boolean 생성자 함수 호출
    - ! 부정 논리 연산자를 두번 사용
        - ex. `!!'x' (true)`, `!!NaN (false)`, `!!{} (true)`


<br />
<br />

## 단축 평가

### 논리 연산자를 사용한 단축 평가

논리합(||)과 논리곱(&&) 연산자 표현식의 평가 결과는 불리언 값이 아닐 수도 있다.
2개의 피연산자 중 한쪽으로 평가될 수도 있기 때문이다.

```jsx
'Cat' && 'Dog'
```
위와 같은 상황에서 결과는 'Dog'가 된다.

논리곱 연산자는 두 개의 피연산자가 모두 true여야 true를 반환하는데,

위의 예시에서 'Cat'은 true로 평가되고 두번째 피연산자가 결과를 결정하게 된다.

이 때 논리곱 연산자는 논리 연산의 결과를 결정하는 두번째 피연산자인 'Dog'를 그대로 반환한다.

<br />

 ```jsx
 'Cat' || 'Dog'
 ```
논리합 연산자는 둘 중 하나만 true여도 true를 반환한다.

논리합 연산자도 마찬가지로 논리 연산의 결과를 결정하는 피연산자를 반환하는데,

위의 예시에서 'Cat'까지만 봐도 'Cat'이 true이기 때문에 true라는 결과가 결정된다.

따라서 'Cat'을 반환한다.

<br />

<b>이처럼 논리곱,논리합 연산자는 논리 연산의 결과를 결정하는 피연산자를 타입 변환하지 않고 그대로 반환한다.</b>

이를 `단축 평가`라고 한다.

`단축 평가`는 표현식을 평가하는 도중에 평가 결과가 확정된 경우 나머지 평가 과정을 생략하는 것을 말한다.

<br />

## 옵셔널 체이닝 연산자 (?.)

ES11에서 도입된 연산자로,

좌항의 피연산자가 null 또는 undefined인 경우 undefined를 반환하고,

그렇지 않으면 우항의 프로퍼티 참조를 이어간다.

<br />

## null 병합 연산자 (??)

ES11에서 도입된 연산자로,

좌항의 피연산자가 null 또는 undefined인 경우 우항의 피연산자를 반환하고,
그렇지 않으면 좌항의 피연산자를 반환한다.

기존에는 || 연산자를 사용하여 기본값 설정을 했었는데,
이 때의 문제점은 Falsy값이면 우항을 반환한다는 것이다.

0이나 ''이 의미있게 쓰이는 경우임에도 불구하고 Falsy값이라서 우항을 반환하기 때문에 불편했는데,

null 병합 연산자를 사용하면 Falsy값이라도 null 또는 undefined가 아니면 좌항의 피연산자가 그대로 반환된다.

