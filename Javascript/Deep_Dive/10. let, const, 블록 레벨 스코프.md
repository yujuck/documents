## var 변수의 문제점

### 변수 중복 선언 가능

var 키워드로 선언된 변수는 같은 스코프 내에서 중복 선언을 허용한다.<br />
초기화 문이 있는 변수 선언문은 자바스크립트 엔진에 의해 var 키워드가 없는 것처럼 동작하고,<br />
초기화 문이 없는 변수 선언문은 무시된다. (에러도 발생하지 않는다)

```jsx
var x = 1;
var y = 1;

var x = 100;  // var 키워드가 없는 것처럼 동작함
var y;  // 무시됨

console.log(x);  // 100
console.log(y);  // 1
```

### 함수 레벨 스코프
var 키워드로 선언한 변수는 `함수의 코드 블록`만을 `지역 스코프`로 인정하기 때문에,<br />
함수 외부에서 선언한 변수는 코드 블록 내에서 선언해도 모두 `전역 변수`가 된다.

```jsx
var x = 1;

if(true) {
    var x = 100;  // 여기서의 x도 전역 변수라서 x 변수는 중복 선언된 것과 같다.
}

console.log(x);  // 100
```
<br />

for 문의 변수 선언문에서 var 키워드로 선언한 변수도 전역 변수가 된다.

```jsx
var i = 10;

// for문에서 선언한 i는 전역 변수. i도 중복 선언된 것과 같다.
for (var i = 0; i < 5; i++) {
    console.log(i);  // 0 1 2 3 4
}
console.log(i);  // 5
```

<br />

### 변수 호이스팅
var 키워드로 선언하면 변수 호이스팅에 의해 변수 선언문이 스코프의 선두로 끌어 올려진 것처럼 동작한다.<br />
따라서 변수 선언문 이전에 참조할 수 있게 되고, 할당문 이전에 변수를 참조하면 undefined를 반환한다.

```jsx
// 이 시점에 이미 x는 변수 호이스팅에 의해 선언됨 (선언 단계)
// undefined로 초기화됨 (초기화 단계)
console.log(x);  // undefined

x = 100;  // 할당 단계

console.log(x);  // 100

var x;
```
<br />
<br />

## let 키워드

### 변수 중복 선언 금지
let 키워드로 이름이 같은 변수를 중복 선언하면 문법 에러(SyntaxError)가 발생한다.

```jsx
let x = 10;
let x = 100;  // SyntaxError;
```

### 블록 레벨 스코프
let 키워드로 선언한 변수는 모든 코드 블록(함수, if문, for문, try/catch문..)을 지역 스코프로 인정하는 `블록 레벨 스코프`를 따른다.

```jsx
let x = 1;  // 전역 변수

{
    let x = 2;  // 지역 변수
    let y = 3;  // 지역 변수
}

console.log(x);  // 1
console.log(y);  // ReferenceError
```
<br />

함수도 코드 블록이므로 스코프를 만드는데, 함수 내의 코드 블록은 함수 레벨 스코프에 중첩된다.

```jsx
let i = 10;

function f() {
    let i = 100;

    for (let i = 1; i < 3; i++) {
        console.log(i);  // 1 2
    }
    
    console.log(i);  // 100
}

x();

console.log(i);  // 10
```
